---
layout: "@/layouts/block-docs-layout.astro"
title: FLOJOY_CLOUD_UPLOAD
slug: blocks/loaders/cloud-database/flojoy-cloud-upload
---

{/* DO NOT EDIT THIS FILE! IT IS BEING AUTO GENERATED */}
{/* PLEASE REFER TO THE CONTRIBUTION GUIDE ON THE DOCS PAGE */}

import docstring from "@blocks/LOADERS/CLOUD_DATABASE/FLOJOY_CLOUD_UPLOAD/docstring.json";
import PythonDocsDisplay from "@/components/python-docs-display.astro";

<PythonDocsDisplay docstring={docstring} />
<details>
<summary>Python Code</summary>

```python
import os

from flojoy import DataContainer, FlojoyCloud, flojoy, get_env_var, node_preflight

FLOJOY_CLOUD_URI: str = os.environ.get("FLOJOY_CLOUD_URI") or "https://cloud.flojoy.ai"


@node_preflight
def preflight():
    api_key = get_env_var("FLOJOY_CLOUD_KEY")

    if api_key is None:
        raise KeyError(
            "Flojoy Cloud key is not found! You can set it under Settings -> Environment Variables."
        )


@flojoy
def FLOJOY_CLOUD_UPLOAD(
    default: DataContainer,
    measurement_id: str,
) -> DataContainer:
    """The FLOJOY_CLOUD_UPLOAD node takes a DataContainer as input and uploads it to Flojoy Cloud.

    Flojoy Cloud is still in beta, feel free to try it out and give us feedback!

    Parameters
    ----------
    measurement_id : str
        The measurement id of the data to be uploaded to Flojoy Cloud.

    Returns
    -------
    DataContainer
        The input DataContainer will be returned as it is.
    """

    api_key = get_env_var("FLOJOY_CLOUD_KEY")

    if api_key is None:
        raise KeyError(
            "Flojoy Cloud key is not found! You can set it under Settings -> Environment Variables."
        )

    if measurement_id is None or not measurement_id.startswith("meas_"):
        raise KeyError(
            "You must provide a valid measurement id in order to upload to Flojoy Cloud!"
        )

    cloud = FlojoyCloud(api_key=api_key)

    if default:
        # This will stream the data to the cloud

        cloud.store_dc(default, default.type, measurement_id)

    return default

```

[Find this Flojoy Block on GitHub](https://github.com/flojoy-ai/blocks/blob/main/blocks/LOADERS/CLOUD_DATABASE/FLOJOY_CLOUD_UPLOAD/FLOJOY_CLOUD_UPLOAD.py)

</details>

## Example

import GetHelpWidget from "@/components/get-help-widget.astro";

<GetHelpWidget />

import app from "@blocks/LOADERS/CLOUD_DATABASE/FLOJOY_CLOUD_UPLOAD/app.json";
import AppDisplay from "@/components/app-display.tsx";

<AppDisplay app={app} blockName="FLOJOY_CLOUD_UPLOAD" client:visible />

import Example from "@blocks/LOADERS/CLOUD_DATABASE/FLOJOY_CLOUD_UPLOAD/example.md";

<Example />

{/* DO NOT EDIT THIS FILE! IT IS BEING AUTO GENERATED */}
{/* PLEASE REFER TO THE CONTRIBUTION GUIDE ON THE DOCS PAGE */}
